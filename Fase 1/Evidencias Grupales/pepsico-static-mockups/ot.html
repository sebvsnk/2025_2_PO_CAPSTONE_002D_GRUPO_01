<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>OT & Tareas ‚Äì MVP PepsiCo</title>
  <link rel="stylesheet" href="assets/styles.css">
  <style>
    :root{
      --red:#DF002C; --blue-dark:#28458E; --blue-elec:#0096D6;
      --orange:#EB7B30; --green:#00984A; --muted:#64748b;
      --line:#e5e7eb;
    }
    .ot-header{
      border-radius:18px;
      padding:16px;
      background:
        radial-gradient(700px 300px at 15% 15%, rgba(0,150,214,.25), transparent 60%),
        radial-gradient(600px 260px at 85% 20%, rgba(223,0,44,.25), transparent 55%),
        linear-gradient(120deg, var(--blue-dark), #1b3487 55%, #142a6c);
      box-shadow:0 8px 24px rgba(2,6,23,.10);
      color:#fff;
    }
    .ot-header h2{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.25)}
    .ot-header .meta .chip{
      color:#fff;
      border:1px solid rgba(255,255,255,.35);
      background:rgba(255,255,255,.14);
      backdrop-filter:blur(2px);
    }
    #estadoBadge{
      color:#fff;
      border:1px solid rgba(255,255,255,.35) !important;
      background:rgba(255,255,255,.14) !important;
    }
    #estadoBadge .dot{box-shadow:0 0 0 2px rgba(255,255,255,.25)}

    .ot-grid{display:grid;grid-template-columns:360px 1fr;gap:14px}
    @media (max-width:1000px){.ot-grid{grid-template-columns:1fr}}

    .badge{display:inline-flex;align-items:center;gap:8px;border-radius:999px;padding:6px 10px;font-weight:600;font-size:12px}
    .badge .dot{width:8px;height:8px;border-radius:50%}
    .st-ingreso{background:#eaf7ef;border:1px solid #c7edd6;color:#0f5132}
    .st-ejec{background:#e8f0ff;border:1px solid #cfe0ff;color:#1e3a8a}
    .st-pausa{background:#fff7ed;border:1px solid #ffddb4;color:#9a3412}
    .st-cierre{background:#f1f5f9;border:1px solid #dbe3ee;color:#334155}

    .task{border:1px solid var(--line);border-radius:14px;padding:12px;background:#fff}
    .task-head{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .task-actions{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .btn.small{padding:8px 12px;border-radius:10px}

    .evidencia-wrap{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .thumb{width:120px;height:84px;border:1px dashed #cbd5e1;border-radius:10px;
      background:linear-gradient(135deg,#f8fafc,#eef2f7);display:grid;place-items:center;
      color:#94a3b8;font-size:12px;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .uploader{display:flex;align-items:center;gap:8px;margin-top:8px}
    .uploader input[type=file]{display:none}
    .uploader label{cursor:pointer}
    .meta{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;gap:6px;align-items:center;border:1px dashed #cbd5e1;background:#fff;border-radius:999px;padding:6px 10px;font-size:12px}
  </style>
  <script>
    function go(href){window.location.href=href}
    function addEvidence(inputId,galleryId){
      const inp=document.getElementById(inputId),gal=document.getElementById(galleryId);
      if(!inp||!gal)return;
      const files=Array.from(inp.files||[]);
      files.forEach(f=>{
        const url=URL.createObjectURL(f);
        const box=document.createElement('div');
        box.className='thumb';
        box.innerHTML=`<img src="${url}" alt="evidencia">`;
        gal.appendChild(box);
      });
      inp.value='';
    }
    function setEstado(sel){
      const v=sel.value,badge=document.getElementById('estadoBadge');
      badge.className='badge '+(
        v==='Ingreso'?'st-ingreso':
        v==='En ejecuci√≥n'?'st-ejec':
        v==='Pausada'?'st-pausa':'st-cierre'
      );
      badge.querySelector('span.txt').textContent=v;
      badge.querySelector('span.dot').style.background=
        v==='Ingreso'?'#00984A':
        v==='En ejecuci√≥n'?'#28458E':
        v==='Pausada'?'#EB7B30':'#94a3b8';
    }
  </script>
  <script defer src="assets/app.js"></script>
</head>
<body>
<div class="container">
  <header class="topbar">
    <div class="brand"><span class="mark"></span><span class="word">PEPSICO ¬∑ Taller</span></div>
    <div class="user"><button class="btn secondary" onclick="go('index.html')">Salir</button></div>
  </header>
  <div class="layout">
    <aside class="sidebar">
      <ul class="nav">
        <li><a href="dashboard.html">üè† Tablero</a></li>
        <li><a href="bitacora.html">üöò Bit√°cora porter√≠a</a></li>
        <li><a href="ot.html" class="active">üß∞ OT & Tareas</a></li>
        <li><a href="reportes.html">üìä Reportes</a></li>
        <li><a href="usuarios.html">üë• Usuarios</a></li>
      </ul>
    </aside>
    <main>
      <section class="ot-header">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
          <div>
            <h2 style="margin:0 0 6px;font-weight:800">OT & Tareas</h2>
            <div class="meta">
              <span class="chip">Patente: <strong>ABCD12</strong></span>
              <span class="chip">OT#: <strong>000245</strong></span>
              <span class="chip">Supervisor: <strong>A. Torres</strong></span>
              <span class="chip">Prioridad: <strong>Media</strong></span>
            </div>
          </div>
          <div id="estadoBadge" class="badge st-ejec">
            <span class="dot" style="background:#28458E"></span>
            <span class="txt">En ejecuci√≥n</span>
          </div>
        </div>
      </section>
      <div style="height:12px"></div>
      <section class="ot-grid">
        <div class="card">
          <h4 style="margin:0 0 10px">Orden de Trabajo</h4>
          <label>Veh√≠culo (Patente)</label><input class="input" value="ABCD12">
          <label style="margin-top:10px">Estado</label>
          <select class="input" onchange="setEstado(this)">
            <option>Ingreso</option>
            <option selected>En ejecuci√≥n</option>
            <option>Pausada</option>
            <option>Cerrada</option>
          </select>
          <label style="margin-top:10px">Prioridad</label>
          <select class="input"><option>Alta</option><option selected>Media</option><option>Baja</option></select>
          <label style="margin-top:10px">Descripci√≥n</label>
          <textarea class="input" rows="4" placeholder="S√≠ntomas, pedido del cliente, observaciones‚Ä¶"></textarea>
          <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn primary">Guardar</button>
            <button class="btn secondary">Cerrar OT</button>
          </div>
        </div>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>Tareas</strong>
            <div style="display:flex;gap:8px">
              <button class="btn primary">Agregar tarea</button>
              <button class="btn secondary">Plantillas</button>
            </div>
          </div>
          <div class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:10px">
            <div class="task">
              <div class="task-head">
                <strong>Revisi√≥n de frenos</strong>
                <span class="badge st-ejec"><span class="dot" style="background:#28458E"></span>En ejecuci√≥n</span>
              </div>
              <div class="task-actions">
                <button class="btn secondary small">Pausar</button>
                <button class="btn secondary small">Reanudar</button>
                <button class="btn primary small">Cerrar</button>
              </div>
              <div class="evidencia-wrap" id="gal-1">
                <div class="thumb"><img src="assets/evidencia1.jpg" alt="Evidencia" onerror="this.parentElement.textContent='foto 1'"></div>
                <div class="thumb"><img src="assets/evidencia2.jpg" alt="Evidencia" onerror="this.parentElement.textContent='foto 2'"></div>
                <div class="thumb">+</div>
              </div>
              <div class="uploader">
                <input id="up-1" type="file" accept="image/*" multiple onchange="addEvidence('up-1','gal-1')">
                <label for="up-1" class="btn secondary small">Subir evidencias</label>
              </div>
            </div>
            <div class="task">
              <div class="task-head">
                <strong>Cambio de aceite</strong>
                <span class="badge st-pausa"><span class="dot" style="background:#EB7B30"></span>Pausada</span>
              </div>
              <div class="task-actions">
                <button class="btn secondary small">Reanudar</button>
                <button class="btn primary small">Cerrar</button>
              </div>
              <div class="evidencia-wrap" id="gal-2"><div class="thumb">+</div></div>
              <div class="uploader">
                <input id="up-2" type="file" accept="image/*" multiple onchange="addEvidence('up-2','gal-2')">
                <label for="up-2" class="btn secondary small">Subir evidencias</label>
              </div>
            </div>
            <div class="task">
              <div class="task-head">
                <strong>Diagn√≥stico el√©ctrico</strong>
                <span class="badge st-cierre"><span class="dot" style="background:#94a3b8"></span>Cerrada</span>
              </div>
              <div class="evidencia-wrap" id="gal-3">
                <div class="thumb"><img src="assets/evidencia3.jpg" alt="Evidencia" onerror="this.parentElement.textContent='foto'"></div>
              </div>
              <div class="uploader">
                <input id="up-3" type="file" accept="image/*" multiple onchange="addEvidence('up-3','gal-3')">
                <label for="up-3" class="btn secondary small">Subir evidencias</label>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
</body>
</html>
